@model IEnumerable<DiplomaDataModel.CourseOption.Choice>

@{
    ViewBag.Title = "List of Choices";
}

<h2>@ViewBag.Title</h2>


@section scripts{

    <script src="~/Scripts/Custom/Reports.js"> </script>
}

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<hr />
<div ng-app="ChoicesApp" class="container">
    <div ng-controller="ChoicesController">
        <form>
            @Html.DropDownList("YearTerms", ViewBag.Terms as SelectList, new { required = true, ng_model = "selectedYearTerm" })

            @Html.DropDownList("Reports", ViewBag.Reports as SelectList, new { required = true, ng_model = "selectedReportType" })

            <input type="submit" value="Generate Report" class="form-control btn btn-success"
                   ng-click="GenerateReport()" />
        </form>

        <table class="table">
            <thead>
                <tr>
                    <th>ChoiceId</th>
                    <th>Student ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Year</th>
                    <th>Term</th>
                    <th>First Option</th>
                    <th>Second Option</th>
                    <th>Third Option</th>
                    <th>Fourth Option</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="o in choices">
                    <td>{{o.ChoiceId}}</td>
                    <td>{{o.StudentId}}</td>
                    <td>{{o.StudentFirstName}}</td>
                    <td>{{o.StudentLastName}}</td>
                    <td>{{o.YearTerm.Year}}</td>
                    <td>{{o.YearTerm.Term}}</td>
                    <td>{{o.FirstOption.Title}}</td>
                    <td>{{o.SecondOption.Title}}</td>
                    <td>{{o.ThirdOption.Title}}</td>
                    <td>{{o.FourthOption.Title}}</td>
                </tr>
            </tbody>
         </table>
        <tt>repeatSelect = {{selectedYearTerm}}</tt><br />
        {{message1}}
        {{message2}}
    </div>
</div>



